[gd_scene load_steps=3 format=3 uid="uid://dbl6ppc6pmxmw"]

[ext_resource type="Texture2D" uid="uid://c32g42vwncrkc" path="res://textures/crosshair.png" id="1_37p78"]

[sub_resource type="GDScript" id="GDScript_hqtel"]
script/source = "extends Control

@export var player: CharacterController

@onready var ammo = $WeaponInfo/Ammo
@onready var weapon_name = $\"WeaponInfo/Weapon Name\"

var weapon_name_format = \"\"
var ammo_format = \"\"

func _ready() -> void:
	weapon_name_format = weapon_name.text
	ammo_format = ammo.text
	
func _process(delta: float) -> void:
	var weapon = player.get(\"weapon_controller\").get_current_weapon()
	self.ammo.text = ammo_format % [weapon.ammo_count, weapon.max_ammo_count]
	self.weapon_name.text = weapon_name_format % weapon.name
"

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_hqtel")

[node name="WeaponInfo" type="BoxContainer" parent="."]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
vertical = true

[node name="Weapon Name" type="Label" parent="WeaponInfo"]
layout_mode = 2
text = "Weapon: %s"

[node name="Ammo" type="Label" parent="WeaponInfo"]
layout_mode = 2
text = "Ammo: %s/%s"

[node name="TextureRect" type="TextureRect" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_37p78")
